<!DOCTYPE html>
<html lang="en">
  <head>
    <base href="/" />
    <title>CSRF-demo: CSRF protected site</title>
    <meta charset="utf-8" />
    <script>
      var target = "rest.php";

      function send(method) {
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
          document.getElementById("response").innerHTML = xhr.response;
        };
        xhr.open(method, target);
        xhr.setRequestHeader("csrf-token", "safe-token");
        xhr.send();
      }
    </script>
  </head>
  <body>
    <p>
      <button onclick="send('GET')">Send get</button>
    </p>

    <p>
      <b>Response</b><br />
      <span id="response"></span>
    </p>
  </body>
</html>
